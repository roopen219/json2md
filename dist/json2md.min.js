var e=require("indento"),t={};const r=t={};let n=e=>(t,r)=>"#".repeat(e)+" "+r(t),a=(e,t,r)=>{let n=e;return("string"==typeof e&&(n=e.split("\n")),r)?n.length<=1?n.join("\n"):n[0]+"\n"+a(n.slice(1),t,!1):n.map(e=>" ".repeat(t)+e).join("\n")},i=e=>{let t={strong:"**",italic:"*",underline:"_",strikethrough:"~~",code:"`"};return e.toString().replace(/<\/?strong\>/gi,t.strong).replace(/<\/?bold\>/gi,t.strong).replace(/<\/?em\>/gi,t.italic).replace(/<\/?italic\>/gi,t.italic).replace(/<\/?u\>/gi,t.underline).replace(/<\/?strike\>/gi,t.strikethrough).replace(/<\/?code\>/gi,t.code)};function l(r,n,a){if(n=n||"","string"==typeof r||"number"==typeof r)return e(r,1,n);let i=[];// Handle arrays
if(Array.isArray(r)){for(let t=0;t<r.length;++t)i.push(e(l(r[t],"",a),1,n));return i.join("\n")}if(a){let i="",o=t[a||type];if("function"==typeof o)i+=e(o(a?r:r[type],l),1,n)+"\n";else throw Error("There is no such converter: "+type);return i}{let i="";return Object.keys(r).forEach((o,s,c)=>{let u=t[a||o];if("function"==typeof u)i+=e(u(a?r:r[o],l),1,n)+"\n";else throw Error("There is no such converter: "+o)}),i}}// Headings
r.h1=n(1),r.h2=n(2),r.h3=n(3),r.h4=n(4),r.h5=n(5),r.h6=n(6),r.blockquote=(e,t)=>t(i(e),"> "),r.img=(e,t)=>Array.isArray(e)?t(e,"","img"):"string"==typeof e?r.img({source:e,title:"",alt:""}):(e.title=e.title||"",e.alt=e.alt||"","!["+e.alt+"]("+e.source+' "'+e.title+'")'),r.ul=(e,t)=>{let r="";for(let n=0;n<e.length;++n){let l="",o=Object.keys(e[n])[0];"ul"!==o&&"ol"!==o&&"taskLists"!==o&&(l+="\n - "),r+=l+i(a(t(e[n]),4,!0))}return r},r.ol=(e,t)=>{let r="",n=0;for(let l=0;l<e.length;++l){let o="",s=Object.keys(e[l])[0];"ul"!==s&&"ol"!==s&&"taskLists"!==s?o="\n "+(l+1-n)+". ":n++,r+=o+i(a(t(e[l]),4,!0))}return r},r.taskLists=(e,t)=>{let r="";for(let n=0;n<e.length;++n){let l="",o=Object.keys(e[n])[0];"ul"!==o&&"ol"!==o&&"taskLists"!==o&&(l+=e[n].isDone?"\n - [x] ":"\n - [ ] "),r+=l+i(a(t(e[n].title||e[n]),4,!0))}return r},r.code=(e,t)=>{let r="```"+(e.language||"")+"\n";return Array.isArray(e.content)?r+=e.content.join("\n"):r+=e.content,r+="\n```"},r.p=(e,t)=>i(t(e,"\n")),r.table=(e,t)=>{let r={CENTER:"center",RIGHT:"right",LEFT:"left",NONE:"none"},n={[r.CENTER]:3,[r.RIGHT]:2,[r.LEFT]:2,[r.NONE]:1};if("object"!=typeof e||!e.hasOwnProperty("headers")||!e.hasOwnProperty("rows"))return"";let a=e.headers.map((t,n)=>e.aligns&&e.aligns[n]?e.aligns[n]:r.NONE),l=e.headers.map((e,t)=>Math.max(n[a[t]],e.length-2));!0===e.pretty&&e.rows.forEach(t=>{(Array.isArray(t)?t:e.headers.map(e=>t[e])).forEach((e,t)=>{l[t]=Math.max(l[t],e.length-2)})});let o=function(e,t){return" ".repeat(e)+t},s=function(e,t){return t+" ".repeat(e)},c=function(e,t){return" ".repeat(Math.floor(e/2))+t+" ".repeat(Math.ceil(e/2))},u=(e,t)=>{let n=l[t]+2-e.length;switch(a[t]){case r.RIGHT:return o(n,e);case r.NONE:case r.LEFT:return s(n,e);case r.CENTER:default:return c(n,e)}},h=e.headers.map((e,t)=>{let n=l[t]+2-e.length;switch(a[t]){case r.RIGHT:return o(n,e);case r.LEFT:return s(n,e);case r.CENTER:case r.NONE:default:return c(n,e)}}),p="| "+h.join(" | ")+" |",f="| "+e.headers.map((e,t)=>{let n="-".repeat(l[t]);switch(a[t]){case r.CENTER:return":"+n+":";case r.RIGHT:return"-"+n+":";case r.LEFT:return":"+n+"-";case r.NONE:default:return"-"+n+"-"}}).join(" | ")+" |",y=(t,r)=>!0!==e.pretty?t:u(t,r),g=e.rows.map(r=>"| "+(Array.isArray(r)?r:e.headers.map(e=>r[e])).map(e=>t(e)).map(e=>i(e)).map(e=>e.replace(/([^\\])\|/,"$1\\|")).map(e=>e.trim()).map(y).join(" | ")+" |").join("\n");return[p,f,g].join("\n")},r.link=(e,t)=>Array.isArray(e)?t(e,"","link"):"string"==typeof e?r.link({source:e,title:""}):"["+e.title+"]("+e.source+")",r.hr=(e,t)=>"---",l.async=(r,n,a)=>Promise.resolve().then(()=>{if(n=n||"","string"==typeof r||"number"==typeof r)return e(r,1,n);let i=[];if(Array.isArray(r)){let t=r.map((t,r)=>Promise.resolve().then(()=>l.async(t,"",a)).then(t=>e(t,1,n)).then(e=>{i[r]=e}));return Promise.all(t).then(()=>i.join("\n"))}{let i=Object.keys(r)[0],o=t[a||i];if("function"==typeof o)return Promise.resolve().then(()=>o(a?r:r[i],l)).then(t=>e(t,1,n)+"\n");throw Error("There is no such converter: "+i)}}),l.converters=t,module.exports=l;//# sourceMappingURL=json2md.min.js.map

//# sourceMappingURL=json2md.min.js.map
